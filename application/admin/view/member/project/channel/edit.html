<form id="edit-form" class="form-horizontal" role="form" data-toggle="validator" method="POST" action="">
    {:token()}

    <div class="form-group" style="display: none;">
        <label class="control-label col-xs-12 col-sm-2">{:__('Member')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input id="c-member_id" class="form-control" name="row[member_id]" type="number" data-rule="required" value="{$row.member_id}">
        </div>
    </div>

    <div id="user-info" data-is-agent="{$row.member.is_agency}"></div>

    <!--    判断如果是代理商，就显示，否则不显示-->
    <div class="form-group" style="display: none;" id="sub-member">
        <label class="control-label col-xs-12 col-sm-2">{:__('SubMemberId')}:</label>
        <div class="col-xs-12 col-sm-8">
            {:build_select('row[sub_member_id]', $subMemberList, $row['sub_member_id'])}
        </div>
    </div>

    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('Project')}:</label>
        <div class="col-xs-12 col-sm-8">
            {:build_select('row[project_id]', $projectList, $row['project_id'], ['data-rule'=>'required'])}
        </div>
    </div>


    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('Channel')}:</label>
        <div class="col-xs-12 col-sm-8">
            {:build_select('row[channel_id]', $channelList, $row['channel_id'], ['id'=>'c-channel_id', 'data-rule'=>'required'])}
        </div>
    </div>

    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('Type')}:</label>
        <div class="col-xs-12 col-sm-8">
            {:build_radios('row[type]', ['2'=>__('TypeOut'), '1'=>__('TypeIn')], $row['type'])}
        </div>
    </div>



    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('Status')}:</label>
        <div class="col-xs-12 col-sm-8">
            <div class="radio">
                {:build_radios('row[status]', ['0'=>__('Close'), '1'=>__('Open')], $row['status'])}
            </div>
        </div>
    </div>

    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('固定税率')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input id="c-fixed_rate" data-rule="required" min="0" class="form-control" step="0.0001" name="row[fixed_rate]" type="number" value="{$row.fixed_rate|htmlentities}">
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('税率')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input id="c-rate" data-rule="required" min="0" class="form-control" step="0.0001" name="row[rate]" type="number" value="{$row.rate|htmlentities}">
        </div>
    </div>

    <div class="form-group layer-footer">
        <label class="control-label col-xs-12 col-sm-2"></label>
        <div class="col-xs-12 col-sm-8">
            <button type="submit" class="btn btn-primary btn-embossed disabled">{:__('OK')}</button>
        </div>
    </div>
</form>

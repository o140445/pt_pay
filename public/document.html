<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    /
    <title>TikPay</title>

    <!-- Bootstrap Core CSS -->
    <link href="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/twitter-bootstrap/3.4.1/css/bootstrap.min.css"
          rel="stylesheet">

    <!-- Plugin CSS -->
    <link href="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/font-awesome/4.7.0/css/font-awesome.min.css"
          rel="stylesheet">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <style type="text/css">
        body {
            padding-top: 70px;
            margin-bottom: 15px;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            font-family: "Roboto", "SF Pro SC", "SF Pro Display", "SF Pro Icons", "PingFang SC", BlinkMacSystemFont, -apple-system, "Segoe UI", "Microsoft Yahei", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", "Helvetica", "Arial", sans-serif;
            font-weight: 400;
        }

        h2 {
            font-size: 1.2em;
        }

        hr {
            margin-top: 10px;
        }

        .tab-pane {
            padding-top: 10px;
        }

        .mt0 {
            margin-top: 0px;
        }

        .footer {
            font-size: 12px;
            color: #666;
        }

        .docs-list .label {
            display: inline-block;
            min-width: 65px;
            padding: 0.3em 0.6em 0.3em;
        }

        .string {
            color: green;
        }

        .number {
            color: darkorange;
        }

        .boolean {
            color: blue;
        }

        .null {
            color: magenta;
        }

        .key {
            color: red;
        }

        .popover {
            max-width: 400px;
            max-height: 400px;
            overflow-y: auto;
        }

        .list-group.panel > .list-group-item {
        }

        .list-group-item:last-child {
            border-radius: 0;
        }

        h4.panel-title a {
            font-weight: normal;
            font-size: 14px;
        }

        h4.panel-title a .text-muted {
            font-size: 12px;
            font-weight: normal;
            font-family: 'Verdana';
        }

        #sidebar {
            width: 220px;
            position: fixed;
            margin-left: -240px;
            overflow-y: auto;
        }

        #sidebar > .list-group {
            margin-bottom: 0;
        }

        #sidebar > .list-group > a {
            text-indent: 0;
        }

        #sidebar .child > a .tag {
            position: absolute;
            right: 10px;
            top: 11px;
        }

        #sidebar .child > a .pull-right {
            margin-left: 3px;
        }

        #sidebar .child {
            border: 1px solid #ddd;
            border-bottom: none;
        }

        #sidebar .child:last-child {
            border-bottom: 1px solid #ddd;
        }

        #sidebar .child > a {
            border: 0;
            min-height: 40px;
        }

        #sidebar .list-group a.current {
            background: #f5f5f5;
        }

        @media (max-width: 1620px) {
            #sidebar {
                margin: 0;
            }

            #accordion {
                padding-left: 235px;
            }
        }

        @media (max-width: 768px) {
            #sidebar {
                display: none;
            }

            #accordion {
                padding-left: 0px;
            }
        }

        .label-primary {
            background-color: #248aff;
        }

        .docs-list .panel .panel-body .table {
            margin-bottom: 0;
        }

    </style>
</head>
<body>
<!-- Fixed navbar -->
<div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="./" target="_blank">TikPay</a>
        </div>
        <div class="navbar-collapse collapse">
            <div class="navbar-form navbar-right">
                开发文档
            </div>
        </div><!--/.nav-collapse -->
    </div>
</div>

<div class="container">
    <!-- menu -->
    <div id="sidebar">
        <div class="list-group panel">

            <div class="child " id="Pay">
                <a href="javascript:;" data-id="0" class="list-group-item">协议规则 <span class="tag"></span></a>
                <a href="javascript:;" data-id="1" class="list-group-item">签名 <span class="tag"></span></a>
                <a href="javascript:;" data-id="2" class="list-group-item">代收 <span class="tag"></span></a>
                <a href="javascript:;" data-id="3" class="list-group-item">代付 <span class="tag"></span></a>
                <a href="javascript:;" data-id="4" class="list-group-item">回调 <span class="tag"></span></a>
                <a href="javascript:;" data-id="5" class="list-group-item">订单查询 <span class="tag"></span></a>
                <a href="javascript:;" data-id="6" class="list-group-item">余额查询 <span class="tag"></span></a>
            </div>
        </div>
    </div>
    <div class="panel-group docs-list" id="accordion">

        <div class="panel panel-default">
            <div class="panel-heading" id="heading-0">
                <h4 class="panel-title">
                    <a data-toggle="collapse" data-parent="#accordion0" href="#collapseOne0">
                        协议规则
                    </a>
                </h4>
            </div>
            <div id="collapseOne0" class="panel-collapse collapse">
                <div class="panel-body">
                    请求域名：https://www.tikpay.com
                    <br>
                    请求数据格式：application/json
                    <br>
                    返回数据格式：application/json
                    <br>
                    签名算法：MD5

                </div>
            </div>
        </div>
        <div class="panel panel-default">
            <div class="panel-heading" id="heading-1">
                <h4 class="panel-title">
                    <a data-toggle="collapse" data-parent="#accordion0" href="#collapseOne1">
                        签名规则
                    </a>
                </h4>
            </div>
            <div id="collapseOne1" class="panel-collapse collapse">
                <div class="panel-body">
                    1、将发送或接收到的所有参数按照参数名ASCII码从小到大排序（a-z），sign、和空值不参与签名！
                    <br>
                    2、将排序后的参数拼接成URL键值对的格式，例如 a=b&c=d，参数值不要进行url编码。
                    <br>
                    3、如果有对象参数，先对对象参数进ASCII码从小到大排序，然后再进行URL键值对拼接，例如
                    {
                    "a": "b",
                    "c": "d",
                    "e": {
                    "f": "g",
                    "h": "i"
                    }
                    }
                    拼接后为 f=g&h=i ,再和第一部分拼接，例如 a=b&c=d&e=f=g&h=i
                    <br>
                    4、再将拼接好的字符串与商户密钥KEY进行MD5加密得出sign签名参数，sign = md5 ( aa=b&c=d&e=f=g&h=i + KEY )
                    （注意：+ 为各语言的拼接符，不是字符！），md5结果为大写。
                </div>
            </div>
        </div>

        <div class="panel panel-default">
            <div class="panel-heading" id="heading-2">
                <h4 class="panel-title">
                    <span class="label label-primary">POST</span>
                    <a data-toggle="collapse" data-parent="#accordion0" href="#collapseOne2"> 代收接口 <span
                            class="text-muted">/api/v1/pay/in</span></a>
                </h4>
            </div>
            <div id="collapseOne2" class="panel-collapse collapse">
                <div class="panel-body">


                    <!-- Tab panes -->
                    <div class="tab-content">

                        <div class="tab-pane active" id="info0">
                            <div class="panel panel-default">
                                <div class="panel-body">
                                    正式环境地址：/api/v1/pay/in
                                    <br>
                                    沙盒环境地址：/api/v1/sandbox/in
                                    <br>
                                    沙盒模式自动回调下小于等于10元的订单会返回支付成功,大于10元的订单会返回支付失败
                                </div>
                            </div>
                            <div class="panel panel-default">
                                <div class="panel-heading"><strong>Headers</strong></div>
                                <div class="panel-body">
                                    <table class="table table-hover">
                                        <thead>
                                        <tr>
                                            <th>名称</th>
                                            <th>类型</th>
                                            <th>必选</th>
                                            <th>描述</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr>
                                            <td>Content-Type</td>
                                            <td>string</td>
                                            <td>是</td>
                                            <td>application/json</td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="panel panel-default">
                                <div class="panel-heading"><strong>请求参数</strong></div>
                                <div class="panel-body">
                                    <table class="table table-hover">
                                        <thead>
                                        <tr>
                                            <th>名称</th>
                                            <th>类型</th>
                                            <th>必选</th>
                                            <th>描述</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr>
                                            <td>amount</td>
                                            <td>string</td>
                                            <td>是</td>
                                            <td>支付金额</td>
                                        </tr>
                                        <tr>
                                            <td>merchant_id</td>
                                            <td>int</td>
                                            <td>是</td>
                                            <td>商户ID</td>
                                        </tr>
                                        <tr>
                                            <td>product_id</td>
                                            <td>int</td>
                                            <td>是</td>
                                            <td>产品ID （找商务获取）</td>
                                        </tr>
                                        <tr>
                                            <td>merchant_order_no</td>
                                            <td>string</td>
                                            <td>是</td>
                                            <td>商户订单号</td>
                                        </tr>
                                        <tr>
                                            <td>notify_url</td>
                                            <td>string</td>
                                            <td>是</td>
                                            <td>回调地址</td>
                                        </tr>
                                        <tr>
                                            <td>nonce</td>
                                            <td>string</td>
                                            <td>是</td>
                                            <td>随机字符串(不超过32位)</td>
                                        </tr>

                                        <tr>
                                            <td>sign</td>
                                            <td>string</td>
                                            <td>是</td>
                                            <td>签名</td>
                                        </tr>

                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="panel panel-default">
                                <div class="panel-heading"><strong>请求示例</strong></div>
                                <div class="panel-body">
                                    <pre >{
    "amount":"10.11",
    "merchant_id":99999,
    "product_id":123,
    "merchant_order_no":"20241113164057",
    "notify_url":"https://www.xxxxx.com/api/pay/notify/20241113164057",
    "nonce":"2024sdwq",
    "sign":"C9D309103969180831CF998A49BDCDDD",
}</pre>
                                </div>
                            </div>
                        </div><!-- #info -->

                        <div class="panel panel-default">
                            <div class="panel-heading"><strong>返回参数</strong></div>
                            <div class="panel-body">
                                <table class="table table-hover">
                                    <thead>
                                    <tr>
                                        <th>名称</th>
                                        <th>类型</th>
                                        <th>必选</th>
                                        <th>描述</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr>
                                        <td>code</td>
                                        <td>int</td>
                                        <td>是</td>
                                        <td>状态 1成功 其他失败</td>
                                    </tr>
                                    <tr>
                                        <td>msg</td>
                                        <td>string</td>
                                        <td>是</td>
                                        <td>返回信息</td>
                                    </tr>
                                    <tr>
                                        <td>data</td>
                                        <td>object</td>
                                        <td>否</td>
                                        <td>返回数据</td>
                                    </tr>
                                    <tr>
                                        <td>order_no</td>
                                        <td>string</td>
                                        <td>是</td>
                                        <td>订单号</td>
                                    </tr>
                                    <tr>
                                        <td>pay_url</td>
                                        <td>string</td>
                                        <td>是</td>
                                        <td>支付地址</td>
                                    </tr>
                                    <tr>
                                        <td>status</td>
                                        <td>int</td>
                                        <td>是</td>
                                        <td>支付状态 1支付中 2成功 3失败</td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <div class="panel panel-default">
                            <div class="panel-heading"><strong>返回</strong></div>
                            <div class="panel-body">
                                <div class="row">
                                    <div class="col-md-12">
                                        <pre id="sample_response2">{
    "code":"1",
    "msg":"OK",
    "data":{
        "order_no":"DI202411130058522OAoO2",
        "pay_url":"test_url",
        "status":1
    }
}</pre>
                                    </div>
                                </div>
                            </div><!-- #sample -->

                        </div><!-- .tab-content -->
                    </div>
                </div>
            </div>
        </div>
        <div class="panel panel-default">
            <div class="panel-heading" id="heading-3">
                <h4 class="panel-title">
                    <span class="label label-primary">POST</span>
                    <a data-toggle="collapse" data-parent="#accordion0" href="#collapseOne3"> 代付接口 <span
                            class="text-muted">/api/v1/pay/out</span></a>
                </h4>
            </div>
            <div id="collapseOne3" class="panel-collapse collapse">
                <div class="panel-body">


                    <!-- Tab panes -->
                    <div class="tab-content">
                        <div class="panel panel-default">
                            <div class="panel-body">
                                正式环境地址：/api/v1/pay/out
                                <br>
                                沙盒环境地址：/api/v1/sandbox/out
                                <br>
                                沙盒模式下自动回调小于等于10元的订单会返回支付成功,大于10元的订单会返回支付失败
                            </div>
                        </div>
                        <div class="tab-pane active" id="info3">
                            <div class="panel panel-default">
                                <div class="panel-heading"><strong>Headers</strong></div>
                                <div class="panel-body">
                                    <table class="table table-hover">
                                        <thead>
                                        <tr>
                                            <th>名称</th>
                                            <th>类型</th>
                                            <th>必选</th>
                                            <th>描述</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr>
                                            <td>Content-Type</td>
                                            <td>string</td>
                                            <td>是</td>
                                            <td>application/json</td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="panel panel-default">
                                <div class="panel-heading"><strong>请求参数</strong></div>
                                <div class="panel-body">
                                    <table class="table table-hover">
                                        <thead>
                                        <tr>
                                            <th>名称</th>
                                            <th>类型</th>
                                            <th>必选</th>
                                            <th>描述</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr>
                                            <td>amount</td>
                                            <td>string</td>
                                            <td>是</td>
                                            <td>支付金额</td>
                                        </tr>
                                        <tr>
                                            <td>merchant_id</td>
                                            <td>int</td>
                                            <td>是</td>
                                            <td>商户ID</td>
                                        </tr>
                                        <tr>
                                            <td>product_id</td>
                                            <td>int</td>
                                            <td>是</td>
                                            <td>产品ID （找商务获取）</td>
                                        </tr>
                                        <tr>
                                            <td>merchant_order_no</td>
                                            <td>string</td>
                                            <td>是</td>
                                            <td>商户订单号</td>
                                        </tr>
                                        <tr>
                                            <td>notify_url</td>
                                            <td>string</td>
                                            <td>是</td>
                                            <td>回调地址</td>
                                        </tr>
                                        <tr>
                                            <td>nonce</td>
                                            <td>string</td>
                                            <td>是</td>
                                            <td>随机字符串(不超过32位)</td>
                                        </tr>

                                        <tr>
                                            <td>extra</td>
                                            <td>object</td>
                                            <td>是</td>
                                            <td>扩展参数</td>
                                        </tr>
                                        <tr>
                                            <td>extra.pix_key</td>
                                            <td>string</td>
                                            <td>是</td>
                                            <td>收款人pix_key</td>
                                        </tr>
                                        <tr>
                                            <td>extra.pix_name</td>
                                            <td>string</td>
                                            <td>是</td>
                                            <td>收款人姓名</td>
                                        </tr>
                                        <tr>
                                            <td>extra.pix_type</td>
                                            <td>string</td>
                                            <td>是</td>
                                            <td>PIX类型 (CNPJ/CPF/PHONE/EMAIL/CHAVE_ALEATORIA)</td>
                                        </tr>
                                        <tr>
                                            <td>sign</td>
                                            <td>string</td>
                                            <td>是</td>
                                            <td>签名</td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="panel panel-default">
                                <div class="panel-heading"><strong>请求示例</strong></div>
                                <div class="panel-body">
                                    <pre >{
    "amount":"10",
    "merchant_id":99999,
    "product_id":123,
    "merchant_order_no":"112353",
    "notify_url":"https://www.xxxxx.com/api/pay/notify/20241113164057",
    "nonce":"11",
    "extra":{
        "pix_key":"dhah@gmail.com",
        "pix_name":"test",
        "pix_type":"EMAIL"
    },
    "sign":"90F4C855E7D8D0CB7FACE477BBEA31D8"
}</pre>
                                </div>
                            </div>
                        </div><!-- #info -->

                        <div class="panel panel-default">
                            <div class="panel-heading"><strong>返回参数</strong></div>
                            <div class="panel-body">
                                <table class="table table-hover">
                                    <thead>
                                    <tr>
                                        <th>名称</th>
                                        <th>类型</th>
                                        <th>必选</th>
                                        <th>描述</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr>
                                        <td>code</td>
                                        <td>int</td>
                                        <td>是</td>
                                        <td>状态 1成功 其他失败</td>
                                    </tr>
                                    <tr>
                                        <td>msg</td>
                                        <td>string</td>
                                        <td>是</td>
                                        <td>返回信息</td>
                                    </tr>
                                    <tr>
                                        <td>data</td>
                                        <td>object</td>
                                        <td>否</td>
                                        <td>返回数据</td>
                                    </tr>
                                    <tr>
                                        <td>order_no</td>
                                        <td>string</td>
                                        <td>是</td>
                                        <td>订单号</td>
                                    </tr>
                                    <tr>
                                        <td>status</td>
                                        <td>int</td>
                                        <td>是</td>
                                        <td>支付状态 1支付中 2成功 3失败</td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <div class="panel panel-default">
                            <div class="panel-heading"><strong>返回</strong></div>
                            <div class="panel-body">
                                <div class="row">
                                    <div class="col-md-12">
                                        <pre id="sample_response3">{
    "code": 1,
    "msg": "OK",
    "data": {
        "order_no": "DO20241113002649fzLDNr",
        "status": 1,
    }
}</pre>
                                    </div>
                                </div>
                            </div><!-- #sample -->

                        </div><!-- .tab-content -->
                    </div>
                </div>
            </div>
        </div>
        <div class="panel panel-default">
            <div class="panel-heading" id="heading-4">
                <h4 class="panel-title">
                    <span class="label label-primary">POST</span>
                    <a data-toggle="collapse" data-parent="#accordion0" href="#collapseOne4"> 代收代付回调 <span
                            class="text-muted">商户提供</span></a>
                </h4>
            </div>
            <div id="collapseOne4" class="panel-collapse collapse">
                <div class="panel-body">


                    <!-- Tab panes -->
                    <div class="tab-content">

                        <div class="tab-pane active" id="info4">
                            <div class="panel panel-default">
                                <div class="panel-heading"><strong>Headers</strong></div>
                                <div class="panel-body">
                                    <table class="table table-hover">
                                        <thead>
                                        <tr>
                                            <th>名称</th>
                                            <th>类型</th>
                                            <th>必选</th>
                                            <th>描述</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr>
                                            <td>Content-Type</td>
                                            <td>string</td>
                                            <td>是</td>
                                            <td>application/json</td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="panel panel-default">
                                <div class="panel-heading"><strong>请求参数</strong></div>
                                <div class="panel-body">
                                    <table class="table table-hover">
                                        <thead>
                                        <tr>
                                            <th>名称</th>
                                            <th>类型</th>
                                            <th>必选</th>
                                            <th>描述</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr>
                                            <td>amount</td>
                                            <td>string</td>
                                            <td>是</td>
                                            <td>支付金额</td>
                                        </tr>
                                        <tr>
                                            <td>merchant_id</td>
                                            <td>int</td>
                                            <td>是</td>
                                            <td>商户ID</td>
                                        </tr>
                                        <tr>
                                            <td>merchant_order_no</td>
                                            <td>string</td>
                                            <td>是</td>
                                            <td>商户订单号</td>
                                        </tr>
                                        <tr>
                                            <td>merchant_order_no</td>
                                            <td>string</td>
                                            <td>是</td>
                                            <td>商户订单号</td>
                                        </tr>
                                        <tr>
                                            <td>status</td>
                                            <td>int</td>
                                            <td>是</td>
                                            <td>支付状态 1支付中 2成功 3失败 4退款</td>
                                        </tr>
                                        <tr>
                                            <td>msg</td>
                                            <td>string</td>
                                            <td>是</td>
                                            <td>失败原因</td>
                                        </tr>
                                        <tr>
                                            <td>pay_success_date</td>
                                            <td>string</td>
                                            <td>是</td>
                                            <td>失败原因</td>
                                        </tr>
                                        <tr>
                                            <td>nonce</td>
                                            <td>string</td>
                                            <td>是</td>
                                            <td>随机字符串(不超过32位)</td>
                                        </tr>
                                        <tr>
                                            <td>sign</td>
                                            <td>string</td>
                                            <td>是</td>
                                            <td>签名</td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="panel panel-default">
                                <div class="panel-heading"><strong>请求示例</strong></div>
                                <div class="panel-body">
                                    <pre >{
    "amount":"10",
    "merchant_id":99999,
    "merchant_order_no":"112353",
    "status":2,
    "msg":"OK",
    "pay_success_date":"2024-11-13 16:40:57",
    "nonce":"11",
    "sign":"90F4C855E7D8D0CB7FACE477BBEA31D8"
}</pre>
                                </div>
                            </div>
                        </div><!-- #info -->

                        <div class="panel panel-default">
                            <div class="panel-heading"><strong>返回</strong></div>
                            <div class="panel-body">
                                <div class="row">
                                    <div class="col-md-12">
                                        <pre id="sample_response4">success</pre>
                                    </div>
                                </div>
                            </div><!-- #sample -->

                        </div><!-- .tab-content -->
                    </div>
                </div>
            </div>
        </div>

        <div class="panel panel-default">
            <div class="panel-heading" id="heading-5">
                <h4 class="panel-title">
                    <span class="label label-primary">POST</span>
                    <a data-toggle="collapse" data-parent="#accordion0" href="#collapseOne5"> 查询接口</a>
                </h4>
            </div>
            <div id="collapseOne5" class="panel-collapse collapse">
                <div class="panel-body">


                    <!-- Tab panes -->
                    <div class="tab-content">

                        <div class="tab-pane active" id="info5">
                            <div class="panel panel-default">
                                <div class="panel-body">
                                代收查询地址：/api/v1/query/in
                                <br>
                                代付查询地址：/api/v1/query/out
                                </div>
                            </div>
                            <div class="panel panel-default">
                                <div class="panel-heading"><strong>Headers</strong></div>
                                <div class="panel-body">
                                    <table class="table table-hover">
                                        <thead>
                                        <tr>
                                            <th>名称</th>
                                            <th>类型</th>
                                            <th>必选</th>
                                            <th>描述</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr>
                                            <td>Content-Type</td>
                                            <td>string</td>
                                            <td>是</td>
                                            <td>application/json</td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="panel panel-default">
                                <div class="panel-heading"><strong>请求参数</strong></div>
                                <div class="panel-body">
                                    <table class="table table-hover">
                                        <thead>
                                        <tr>
                                            <th>名称</th>
                                            <th>类型</th>
                                            <th>必选</th>
                                            <th>描述</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr>
                                            <td>merchant_id</td>
                                            <td>int</td>
                                            <td>是</td>
                                            <td>商户ID</td>
                                        </tr>
                                        <tr>
                                            <td>merchant_order_no</td>
                                            <td>string</td>
                                            <td>是</td>
                                            <td>商户订单号</td>
                                        </tr>
                                        <tr>
                                            <td>nonce</td>
                                            <td>string</td>
                                            <td>是</td>
                                            <td>随机字符串(不超过32位)</td>
                                        </tr>
                                        <tr>
                                            <td>sign</td>
                                            <td>string</td>
                                            <td>是</td>
                                            <td>签名</td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="panel panel-default">
                                <div class="panel-heading"><strong>请求示例</strong></div>
                                <div class="panel-body">
                                    <pre >{
    "merchant_id":99999,
    "merchant_order_no":"112353",
    "nonce":"11",
    "sign":"JI4C855E7D8D0CB7FACE477BBEA31D8"
}</pre>
                                </div>
                            </div>
                        </div><!-- #info -->

                        <div class="panel panel-default">
                            <div class="panel-heading"><strong>返回参数</strong></div>
                            <div class="panel-body">
                                <table class="table table-hover">
                                    <thead>
                                    <tr>
                                        <th>名称</th>
                                        <th>类型</th>
                                        <th>必选</th>
                                        <th>描述</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr>
                                        <td>code</td>
                                        <td>int</td>
                                        <td>是</td>
                                        <td>状态 1成功 其他失败</td>
                                    </tr>
                                    <tr>
                                        <td>msg</td>
                                        <td>sting</td>
                                        <td>是</td>
                                        <td>消息</td>
                                    </tr>
                                    <tr>
                                        <td>data</td>
                                        <td>object</td>
                                        <td>是</td>
                                        <td>返回对象</td>
                                    </tr>
                                    <tr>
                                        <td>data.amount</td>
                                        <td>string</td>
                                        <td>是</td>
                                        <td>支付金额</td>
                                    </tr>
                                    <tr>
                                        <td>data.merchant_id</td>
                                        <td>int</td>
                                        <td>是</td>
                                        <td>商户ID</td>
                                    </tr>
                                    <tr>
                                        <td>data.merchant_order_no</td>
                                        <td>string</td>
                                        <td>是</td>
                                        <td>商户订单号</td>
                                    </tr>
                                    <tr>
                                        <td>data.order_no</td>
                                        <td>string</td>
                                        <td>是</td>
                                        <td>平台订单号</td>
                                    </tr>
                                    <tr>
                                        <td>data.status</td>
                                        <td>int</td>
                                        <td>是</td>
                                        <td>支付状态 1支付中 2成功 3失败 4退款</td>
                                    </tr>
                                    <tr>
                                        <td>data.msg</td>
                                        <td>string</td>
                                        <td>是</td>
                                        <td>失败原因</td>
                                    </tr>
                                    <tr>
                                        <td>data.pay_success_date</td>
                                        <td>string</td>
                                        <td>是</td>
                                        <td>支付成功时间</td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <div class="panel panel-default">
                            <div class="panel-heading"><strong>返回</strong></div>
                            <div class="panel-body">
                                <div class="row">
                                    <div class="col-md-12">
                                        <pre id="sample_response5">{
    "code": 1,
    "msg": "OK",
    "data": {
        "amount":"10",
        "merchant_id":99999,
        "merchant_order_no":"112353",
        "order_no":"112353",
        "status":2,
        "msg":"OK",
        "pay_success_date":"2024-11-13 16:40:57",
   }
}</pre>
                                    </div>
                                </div>
                            </div><!-- #sample -->

                        </div><!-- .tab-content -->
                    </div>
                </div>
            </div>
        </div>

        <div class="panel panel-default">
            <div class="panel-heading" id="heading-6">
                <h4 class="panel-title">
                    <span class="label label-primary">POST</span>
                    <a data-toggle="collapse" data-parent="#accordion0" href="#collapseOne6"> 余额查询<span
                            class="text-muted">/api/v1/query/balance</span></a>
                </h4>
            </div>
            <div id="collapseOne6" class="panel-collapse collapse">
                <div class="panel-body">


                    <!-- Tab panes -->
                    <div class="tab-content">

                        <div class="tab-pane active" id="info6">
                            <div class="panel panel-default">
                                <div class="panel-heading"><strong>Headers</strong></div>
                                <div class="panel-body">
                                    <table class="table table-hover">
                                        <thead>
                                        <tr>
                                            <th>名称</th>
                                            <th>类型</th>
                                            <th>必选</th>
                                            <th>描述</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr>
                                            <td>Content-Type</td>
                                            <td>string</td>
                                            <td>是</td>
                                            <td>application/json</td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="panel panel-default">
                                <div class="panel-heading"><strong>请求参数</strong></div>
                                <div class="panel-body">
                                    <table class="table table-hover">
                                        <thead>
                                        <tr>
                                            <th>名称</th>
                                            <th>类型</th>
                                            <th>必选</th>
                                            <th>描述</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr>
                                            <td>merchant_id</td>
                                            <td>int</td>
                                            <td>是</td>
                                            <td>商户ID</td>
                                        </tr>

                                        <tr>
                                            <td>nonce</td>
                                            <td>string</td>
                                            <td>是</td>
                                            <td>随机字符串(不超过32位)</td>
                                        </tr>
                                        <tr>
                                            <td>sign</td>
                                            <td>string</td>
                                            <td>是</td>
                                            <td>签名</td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="panel panel-default">
                                <div class="panel-heading"><strong>请求示例</strong></div>
                                <div class="panel-body">
                                    <pre >{
    "merchant_id":99999,
    "nonce":"11",
    "sign":"SD8D0CB7FACE477BBEA31D8"
}</pre>
                                </div>
                            </div>
                        </div><!-- #info -->

                        <div class="panel panel-default">
                            <div class="panel-heading"><strong>返回参数</strong></div>
                            <div class="panel-body">
                                <table class="table table-hover">
                                    <thead>
                                    <tr>
                                        <th>名称</th>
                                        <th>类型</th>
                                        <th>必选</th>
                                        <th>描述</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr>
                                        <td>code</td>
                                        <td>int</td>
                                        <td>是</td>
                                        <td>状态 1成功 其他失败</td>
                                    </tr>
                                    <tr>
                                        <td>msg</td>
                                        <td>sting</td>
                                        <td>是</td>
                                        <td>消息</td>
                                    </tr>
                                    <tr>
                                        <td>data</td>
                                        <td>object</td>
                                        <td>是</td>
                                        <td>返回对象</td>
                                    </tr>
                                    <tr>
                                        <td>data.balance</td>
                                        <td>string</td>
                                        <td>是</td>
                                        <td>可用金额</td>
                                    </tr>
                                    <tr>
                                        <td>data.blocked_balance</td>
                                        <td>string</td>
                                        <td>是</td>
                                        <td>冻结金额</td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <div class="panel panel-default">
                            <div class="panel-heading"><strong>返回</strong></div>
                            <div class="panel-body">
                                <div class="row">
                                    <div class="col-md-12">
                                        <pre id="sample_response6">{
    "code": 1,
    "msg": "OK",
    "data": {
        "balance":"10",
        "blocked_balance":"0",
    }
}</pre>
                                    </div>
                                </div>
                            </div><!-- #sample -->

                        </div><!-- .tab-content -->
                    </div>
                </div>
            </div>
        </div>

        <hr>

        <div class="row mt0 footer">
            <div class="col-md-6" align="left">

            </div>
            <div class="col-md-6" align="right">
                Generated on 2024-11-13 16:40:57 <a href="./" target="_blank">TikPay</a>
            </div>
        </div>

    </div> <!-- /container -->

    <!-- jQuery -->
    <script src="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/jquery/3.6.0/jquery.min.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/twitter-bootstrap/3.4.1/js/bootstrap.min.js"></script>

    <script type="text/javascript">
        function syntaxHighlight(json) {
            if (typeof json != 'string') {
                json = JSON.stringify(json, undefined, 2);
            }
            json = json.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
            return json.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g, function (match) {
                var cls = 'number';
                if (/^"/.test(match)) {
                    if (/:$/.test(match)) {
                        cls = 'key';
                    } else {
                        cls = 'string';
                    }
                } else if (/true|false/.test(match)) {
                    cls = 'boolean';
                } else if (/null/.test(match)) {
                    cls = 'null';
                }
                return '<span class="' + cls + '">' + match + '</span>';
            });
        }

        function prepareStr(str) {
            try {
                return syntaxHighlight(JSON.stringify(JSON.parse(str.replace(/'/g, '"')), null, 2));
            } catch (e) {
                return str;
            }
        }

        var storage = (function () {
            var uid = new Date;
            var storage;
            var result;
            try {
                (storage = window.localStorage).setItem(uid, uid);
                result = storage.getItem(uid) == uid;
                storage.removeItem(uid);
                return result && storage;
            } catch (exception) {
            }
        }());

        $.fn.serializeObject = function () {
            var o = {};
            var a = this.serializeArray();
            $.each(a, function () {
                if (!this.value) {
                    return;
                }
                if (o[this.name] !== undefined) {
                    if (!o[this.name].push) {
                        o[this.name] = [o[this.name]];
                    }
                    o[this.name].push(this.value || '');
                } else {
                    o[this.name] = this.value || '';
                }
            });
            return o;
        };

        $(document).ready(function () {

            if (storage) {
                storage.getItem('token') && $('#token').val(storage.getItem('token'));
                storage.getItem('apiUrl') && $('#apiUrl').val(storage.getItem('apiUrl'));
            }

            $('[data-toggle="tooltip"]').tooltip({
                placement: 'bottom'
            });

            $(window).on("resize", function () {
                $("#sidebar").css("max-height", $(window).height() - 80);
            });

            $(window).trigger("resize");

            $(document).on("click", "#sidebar .list-group > .list-group-item", function () {
                $("#sidebar .list-group > .list-group-item").removeClass("current");
                $(this).addClass("current");
            });
            $(document).on("click", "#sidebar .child a", function () {
                var heading = $("#heading-" + $(this).data("id"));
                if (!heading.next().hasClass("in")) {
                    $("a", heading).trigger("click");
                }
                $("html,body").animate({scrollTop: heading.offset().top - 70});
            });

            $('code[id^=response]').hide();

            $.each($('pre[id^=sample_response],pre[id^=sample_post_body]'), function () {
                if ($(this).html() == 'NA') {
                    return;
                }
                var str = prepareStr($(this).html());
                $(this).html(str);
            });

            $("[data-toggle=popover]").popover({placement: 'right'});

            $('[data-toggle=popover]').on('shown.bs.popover', function () {
                var $sample = $(this).parent().find(".popover-content"),
                    str = $(this).data('content');
                if (typeof str == "undefined" || str === "") {
                    return;
                }
                var str = prepareStr(str);
                $sample.html('<pre>' + str + '</pre>');
            });

            $(document).on('click', '#save_data', function (e) {
                if (storage) {
                    storage.setItem('token', $('#token').val());
                    storage.setItem('apiUrl', $('#apiUrl').val());
                } else {
                    alert('Your browser does not support local storage');
                }
            });
            $(document).on('click', '.btn-append', function (e) {
                $($("#appendtpl").html()).insertBefore($(this).closest(".panel").find(".form-group-submit"));
                return false;
            });
            $(document).on('click', '.btn-remove', function (e) {
                $(this).closest(".form-group").remove();
                return false;
            });
            $(document).on('keyup', '.input-custom-name', function (e) {
                $(this).closest(".row").find(".input-custom-value").attr("name", $(this).val());
                return false;
            });

            $(document).on('click', '.send', function (e) {
                e.preventDefault();
                var form = $(this).closest('form');
                //added /g to get all the matched params instead of only first
                var matchedParamsInRoute = $(form).attr('action').match(/[^{]+(?=\})/g);
                var theId = $(this).attr('rel');
                //keep a copy of action attribute in order to modify the copy
                //instead of the initial attribute
                var url = $(form).attr('action');
                var method = $(form).prop('method').toLowerCase() || 'get';

                var formData = new FormData();

                $(form).find('input').each(function (i, input) {
                    if ($(input).attr('type').toLowerCase() == 'file') {
                        formData.append($(input).attr('name'), $(input)[0].files[0]);
                        method = 'post';
                    } else {
                        formData.append($(input).attr('name'), $(input).val())
                    }
                });

                var index, key, value;

                if (matchedParamsInRoute) {
                    var params = {};
                    formData.forEach(function (value, key) {
                        params[key] = value;
                    });
                    for (index = 0; index < matchedParamsInRoute.length; ++index) {
                        try {
                            key = matchedParamsInRoute[index];
                            value = params[key];
                            if (typeof value == "undefined")
                                value = "";
                            url = url.replace("\{" + key + "\}", value);
                            formData.delete(key);
                        } catch (err) {
                            console.log(err);
                        }
                    }
                }

                var headers = {};

                var token = $('#token').val();
                if (token.length > 0) {
                    headers['token'] = token;
                }

                $("#sandbox" + theId + " .headers input[type=text]").each(function () {
                    val = $(this).val();
                    if (val.length > 0) {
                        headers[$(this).prop('name')] = val;
                    }
                });

                $.ajax({
                    url: $('#apiUrl').val() + url,
                    data: method == 'get' ? $(form).serialize() : formData,
                    type: method,
                    dataType: 'json',
                    contentType: false,
                    processData: false,
                    headers: headers,
                    xhrFields: {
                        withCredentials: true
                    },
                    success: function (data, textStatus, xhr) {
                        if (typeof data === 'object') {
                            var str = JSON.stringify(data, null, 2);
                            $('#response' + theId).html(syntaxHighlight(str));
                        } else {
                            $('#response' + theId).html(data || '');
                        }
                        $('#response_headers' + theId).html('HTTP ' + xhr.status + ' ' + xhr.statusText + '<br/><br/>' + xhr.getAllResponseHeaders());
                        $('#response' + theId).show();
                    },
                    error: function (xhr, textStatus, error) {
                        try {
                            var str = JSON.stringify($.parseJSON(xhr.responseText), null, 2);
                        } catch (e) {
                            var str = xhr.responseText;
                        }
                        $('#response_headers' + theId).html('HTTP ' + xhr.status + ' ' + xhr.statusText + '<br/><br/>' + xhr.getAllResponseHeaders());
                        $('#response' + theId).html(syntaxHighlight(str));
                        $('#response' + theId).show();
                    }
                });
                return false;
            });
        });
    </script>
    <script type="text/html" id="appendtpl">
        <div class="form-group">
            <label class="control-label">自定义</label>
            <div class="row">
                <div class="col-xs-4">
                    <input type="text" class="form-control input-sm input-custom-name" placeholder="名称">
                </div>
                <div class="col-xs-6">
                    <input type="text" class="form-control input-sm input-custom-value" placeholder="值">
                </div>
                <div class="col-xs-2 text-center">
                    <a href="javascript:" class="btn btn-sm btn-danger btn-remove">删除</a>
                </div>
            </div>
        </div>
    </script>
</body>
</html>
